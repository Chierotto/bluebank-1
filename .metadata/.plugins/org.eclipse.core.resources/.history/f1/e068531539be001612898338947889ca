package bluebank.jdbc.dao;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;

import bluebank.jdbc.ConnectionFactory;
import bluebank.jdbc.modelo.Conta;

public class ContaDao {
	
	private Connection connection;
	   
	public ContaDao() {
	  this.connection = new ConnectionFactory().getConnection();
	}	

	public Boolean ExisteConta(Conta conta){
		try{
			PreparedStatement stmt = this.connection.
	                 prepareStatement("select count(1) existe from conta where agencia = ? and conta = ?");
			ResultSet rs = stmt.executeQuery();
			
			int existeConta = rs.getInt("existe"); 
			
			if (existeConta > 0) {
				return true;
			}else{
				return false;
			}
			
		}catch (Exception e) {
			throw new RuntimeException(e);
		}
		
		
		
		
	};
	
}
